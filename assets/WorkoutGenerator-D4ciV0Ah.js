import{j as e,I as r,m as b,C as Y,b as $,c as R,x as I,d as D,a3 as l,i as m,B as y,q as xe,A as ge,t as v,a4 as ue,o as z,E as S,s as o,y as pe}from"./index-CA5f885i.js";import{c as u,u as je}from"./vendor-Bkymfbaw.js";import{u as be,a as H}from"./useMutation-CQocqzKO.js";import{C as F,S as ye,a as ve,T as ee,P as Ne,b as A}from"./api-CokoLMD3.js";import{S as N,a as w,b as f,c as k,d as j}from"./select-Bg7q-Gva.js";import{T as we,a as fe,b as se,c as ae}from"./tabs-Dmv7RvEX.js";import{d as O}from"./dayjs.min-DNh5cZQx.js";import"./Combination-CMb7pPJM.js";import"./index-DVBCDSpL.js";const ke=z({date:o().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),title:o().min(1,"Title cannot be empty"),exercises:pe(z({exercise_name:o().min(1,"Exercise name cannot be empty"),sets:S().min(1,"Sets must be at least 1"),reps:S().min(1,"Reps must be at least 1"),weight:S().min(0,"Weight cannot be negative"),rest:o().optional(),rpe:S().optional(),tempo:o().optional(),superset:o().optional(),notes:o().optional()})).min(1,"At least one exercise required"),notes:o().optional(),prompt:o().optional(),duration:S().optional(),weeklySchedule:z({day1:o().optional(),day2:o().optional(),day3:o().optional(),day4:o().optional(),day5:o().optional(),day6:o().optional(),day7:o().optional()}).optional()});function We(){const[te,E]=u.useState("generate"),[q,ie]=u.useState(!1),[p,V]=u.useState(180),[B,P]=u.useState(!1),[W]=u.useState(["Designing your workout plan...","Analyzing your goals...","Tailoring exercises...","Optimizing schedule...","Finalizing program..."]),[le,re]=u.useState(0),[a,C]=u.useState({planTitle:"",age:"",sex:"",height:"",weight:"",bodyFat:"",muscleMass:"",waistCircumference:"",hipCircumference:"",restingHeartRate:"",bloodPressure:"",experienceLevel:"",primaryGoal:"",secondaryGoals:[],targetAreas:[],avoidAreas:[],injuries:[],medicalConditions:[],currentFitnessLevel:"",workoutHistory:"",recentPerformance:"",availableEquipment:[],homeGym:!1,resistanceBands:!1,dumbbells:!1,barbell:!1,kettlebells:!1,pullUpBar:!1,cardioMachine:!1,weightMachine:!1,cableMachine:!1,yogaMat:!1,stabilityBall:!1,foamRoller:!1,trx:!1,medicineBall:!1,workoutTime:"",daysPerWeek:"",intensity:"",favoriteExercises:"",dislikedExercises:"",preferredTrainingStyle:[],workoutEnvironment:"",musicPreference:"",trainingPartner:!1,progressTrackingMethod:"",dietaryRestrictions:[],supplements:[],mealTiming:"",hydrationLevel:"",sleepQuality:"",sleepDuration:"",stressLevel:"",recoveryActivities:[],stretchingRoutine:"",day1:"",day2:"",day3:"",day4:"",day5:"",day6:"",day7:"",additionalNotes:""});je();const{data:G,refetch:_}=be({queryKey:["workoutPlans"],queryFn:async()=>(await A.get("/api/workout-plans/my",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.plans,enabled:!!localStorage.getItem("token")}),i=H({mutationFn:async()=>{const s=`
Design a personalized ${a.daysPerWeek}-day workout plan titled "${a.planTitle}" for a ${a.age}-year-old ${a.sex}.

Goals:
- Primary: ${a.primaryGoal}
- Secondary: ${a.secondaryGoals.length?a.secondaryGoals.join(", "):"N/A"}

Target Muscle Areas:
- ${a.targetAreas.length?a.targetAreas.join(", "):"None"}

Injuries or Areas to Avoid:
- ${a.avoidAreas.length?a.avoidAreas.join(", "):"None"}

Available Equipment:
- ${(()=>{const c=["homeGym","resistanceBands","dumbbells","barbell","kettlebells","pullUpBar","cardioMachine","weightMachine","cableMachine","yogaMat","stabilityBall","foamRoller","trx","medicineBall"].filter(h=>a[h]);return c.length?c.join(", "):"None"})()}

Workout Preferences:
- Time per session: ${a.workoutTime}
- Intensity: ${a.intensity}
- Environment: ${a.workoutEnvironment}

Additional Notes:
- ${a.additionalNotes||"None"}
`;return P(!0),V(180),(await A.post("/api/workout-plans",{prompt:s},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.workoutPlan},onSuccess:s=>{v.success("Workout plan generated!"),L(s),P(!1)},onError:s=>{var t,n;v.error("Failed to generate plan",{description:((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Try again later"}),P(!1)}}),[x,L]=u.useState(null);u.useEffect(()=>{let s;return B&&p>0&&!i.isSuccess?s=setTimeout(()=>{V(p-1),p%36===0&&re(t=>t===W.length-1?0:t+1)},1e3):(p===0||i.isSuccess)&&P(!1),()=>clearTimeout(s)},[p,B,W,i.isSuccess]);const M=H({mutationFn:async s=>{var c,h;const t=ke.parse({date:s.date,title:s.title||`Workout Plan ${O(s.date).format("MMM D, YYYY")}`,exercises:s.exercises.map(g=>{var Q,X,Z,J;return{exercise_name:g.exercise_name.trim(),sets:g.sets,reps:g.reps,weight:g.weight,rest:(Q=g.rest)==null?void 0:Q.trim(),rpe:g.rpe,tempo:(X=g.tempo)==null?void 0:X.trim(),superset:(Z=g.superset)==null?void 0:Z.trim(),notes:(J=g.notes)==null?void 0:J.trim()}}),notes:(c=s.notes)==null?void 0:c.trim(),prompt:(h=s.prompt)==null?void 0:h.trim(),duration:s.duration,weeklySchedule:s.weeklySchedule});return(await A.post("/api/workout-plans/save",t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data},onSuccess:()=>{v.success("Workout plan saved!"),_(),E("saved")},onError:s=>{var n,c;const t=s instanceof ue?s.errors.map(h=>h.message).join(", "):((c=(n=s.response)==null?void 0:n.data)==null?void 0:c.error)||"An unexpected error occurred";v.error("Failed to save plan",{description:t})}}),ne=H({mutationFn:async s=>{await A.delete(`/api/workout-plans/${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})},onSuccess:()=>{v.success("Workout plan deleted"),_()},onError:s=>{var t,n;v.error(((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to delete plan")}}),d=s=>{if("target"in s){const{name:t,value:n,type:c}=s.target,h=c==="checkbox"?s.target.checked:void 0;C({...a,[t]:c==="checkbox"?h:n})}else C({...a,[s.name]:s.value})},T=(s,t)=>{C(n=>{const c=n[s];return c.includes(t)?{...n,[s]:c.filter(h=>h!==t)}:{...n,[s]:[...c,t]}})},K=["Muscle Gain","Fat Loss","Strength","Endurance","Mobility","Rehabilitation","Sports Performance","General Fitness"],U=["Chest","Back","Shoulders","Arms","Legs","Core","Glutes","Full Body"],de=["Beginner","Intermediate","Advanced"],ce=["Low","Moderate","High"],oe=["Morning","Afternoon","Evening"],me=["Bodybuilding","Powerlifting","CrossFit","Calisthenics","Functional"],he=["Gym","Home","Outdoor"];return e.jsxs("div",{className:"min-h-screen ",children:[e.jsx("div",{className:"container px-4 py-8",children:e.jsxs(we,{value:te,onValueChange:E,className:"w-full",children:[e.jsxs(fe,{className:"flex w-full max-w-md mx-auto mb-8 bg-gray-100 p-1.5 rounded-xl border border-gray-200 shadow-inner",children:[e.jsx(se,{value:"generate",className:`w-full py-2.5 text-sm font-medium transition-all duration-200
             data-[state=active]:bg-white data-[state=active]:text-emerald-600
             data-[state=active]:shadow-sm data-[state=active]:ring-1 ring-emerald-100
             rounded-lg hover:text-emerald-600`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(r.bolt,{className:"h-4 w-4"}),"Workout Generator"]})}),e.jsx(se,{value:"saved",className:`w-full py-2.5 text-sm font-medium transition-all duration-200
             data-[state=active]:bg-white data-[state=active]:text-emerald-600
             data-[state=active]:shadow-sm data-[state=active]:ring-1 ring-emerald-100
             rounded-lg hover:text-emerald-600`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(r.bookmark,{className:"h-4 w-4"}),"My Plans"]})})]}),e.jsx(ae,{value:"generate",children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs(Y,{className:"border-0 shadow-lg overflow-hidden",children:[e.jsxs($,{className:"bg-gradient-to-br from-indigo-700 to-violet-600 text-white relative overflow-hidden group p-8 rounded-t-[2rem] hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 h-8 bg-inherit",children:[e.jsx("div",{className:"absolute -top-8 left-0 w-8 h-8 bg-white/10 rounded-br-full transition-all duration-500 group-hover:bg-white/20"}),e.jsx("div",{className:"absolute -top-8 right-0 w-8 h-8 bg-white/10 rounded-bl-full transition-all duration-500 group-hover:bg-white/20"})]}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-1/3 w-2 h-2 rounded-full bg-white/20 animate-float-delay"}),e.jsx("div",{className:"absolute top-1/3 right-1/4 w-1.5 h-1.5 rounded-full bg-white/15 animate-float"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/5 w-3 h-3 rounded-full bg-white/25 animate-float-delay-slow"})]}),e.jsxs("div",{className:"relative z-10 space-y-2 mt-2",children:[e.jsx(R,{className:"text-3xl md:text-4xl font-bold tracking-tight leading-tight drop-shadow-md",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white to-indigo-100 hover:bg-gradient-to-r hover:from-white hover:to-indigo-200 transition-all duration-500",children:"Create Your Workout Plan"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-1.5 w-6 bg-white/40 rounded-full animate-pulse hover:bg-white/60 transition-colors duration-300"}),e.jsxs(I,{className:"text-indigo-100/90 text-lg font-light tracking-wide flex items-center hover:text-white transition-colors duration-300",children:[e.jsx(r.sparkle,{className:"h-4 w-4 mr-2 animate-float hover:animate-spin"}),e.jsx("span",{className:"hover:translate-x-1 transition-transform duration-300",children:"Fill in details for a personalized workout"})]})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-white/60 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-700 [background-size:200%_auto] group-hover:animate-shine"})]}),e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"planTitle",children:"Plan Title"}),e.jsx(m,{id:"planTitle",name:"planTitle",value:a.planTitle,onChange:d,placeholder:"e.g., Summer Shred",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"age",children:"Age"}),e.jsx(m,{id:"age",name:"age",type:"number",value:a.age,onChange:d,placeholder:"Your age",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"sex",children:"Sex"}),e.jsxs(N,{name:"sex",value:a.sex,onValueChange:s=>d({name:"sex",value:s}),disabled:i.isPending,children:[e.jsx(w,{className:"bg-white",children:e.jsx(f,{placeholder:"Select sex"})}),e.jsxs(k,{children:[e.jsx(j,{value:"Male",children:"Male"}),e.jsx(j,{value:"Female",children:"Female"}),e.jsx(j,{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"height",children:"Height (cm)"}),e.jsx(m,{id:"height",name:"height",type:"number",value:a.height,onChange:d,placeholder:"Your height",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"weight",children:"Weight (kg)"}),e.jsx(m,{id:"weight",name:"weight",type:"number",value:a.weight,onChange:d,placeholder:"Your weight",disabled:i.isPending,className:"bg-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Primary Goal"}),e.jsxs(N,{name:"primaryGoal",value:a.primaryGoal,onValueChange:s=>d({name:"primaryGoal",value:s}),disabled:i.isPending,children:[e.jsx(w,{className:"bg-white",children:e.jsx(f,{placeholder:"Select goal"})}),e.jsx(k,{children:K.map(s=>e.jsx(j,{value:s.toLowerCase().replace(" ","-"),children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Secondary Goals"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:K.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:s,checked:a.secondaryGoals.includes(s),onCheckedChange:()=>T("secondaryGoals",s),disabled:i.isPending}),e.jsx("label",{htmlFor:s,className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Target Areas"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:U.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:s,checked:a.targetAreas.includes(s),onCheckedChange:()=>T("targetAreas",s),disabled:i.isPending}),e.jsx("label",{htmlFor:s,className:"text-sm",children:s})]},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Areas to Avoid"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:U.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:`avoid-${s}`,checked:a.avoidAreas.includes(s),onCheckedChange:()=>T("avoidAreas",s),disabled:i.isPending}),e.jsx("label",{htmlFor:`avoid-${s}`,className:"text-sm",children:s})]},s))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Experience Level"}),e.jsxs(N,{name:"experienceLevel",value:a.experienceLevel,onValueChange:s=>d({name:"experienceLevel",value:s}),disabled:i.isPending,children:[e.jsx(w,{className:"bg-white",children:e.jsx(f,{placeholder:"Select level"})}),e.jsx(k,{children:de.map(s=>e.jsx(j,{value:s.toLowerCase(),children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Workout Time"}),e.jsxs(N,{name:"workoutTime",value:a.workoutTime,onValueChange:s=>d({name:"workoutTime",value:s}),disabled:i.isPending,children:[e.jsx(w,{className:"bg-white",children:e.jsx(f,{placeholder:"Select time"})}),e.jsx(k,{children:oe.map(s=>e.jsx(j,{value:s.toLowerCase(),children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Days Per Week"}),e.jsx(m,{name:"daysPerWeek",type:"number",min:"1",max:"7",value:a.daysPerWeek,onChange:d,placeholder:"1-7",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Intensity"}),e.jsxs(N,{name:"intensity",value:a.intensity,onValueChange:s=>d({name:"intensity",value:s}),disabled:i.isPending,children:[e.jsx(w,{className:"bg-white",children:e.jsx(f,{placeholder:"Select intensity"})}),e.jsx(k,{children:ce.map(s=>e.jsx(j,{value:s.toLowerCase(),children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Favorite Exercises"}),e.jsx(m,{name:"favoriteExercises",value:a.favoriteExercises,onChange:d,placeholder:"e.g., Squats, Pull-ups",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Exercises to Avoid"}),e.jsx(m,{name:"dislikedExercises",value:a.dislikedExercises,onChange:d,placeholder:"e.g., Burpees",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Training Style"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:me.map(s=>e.jsx(y,{variant:a.preferredTrainingStyle.includes(s)?"default":"outline",size:"sm",onClick:()=>T("preferredTrainingStyle",s),disabled:i.isPending,className:xe("rounded-full",a.preferredTrainingStyle.includes(s)?"bg-emerald-600":"bg-white"),children:s},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Workout Environment"}),e.jsxs(N,{name:"workoutEnvironment",value:a.workoutEnvironment,onValueChange:s=>d({name:"workoutEnvironment",value:s}),disabled:i.isPending,children:[e.jsx(w,{className:"bg-white",children:e.jsx(f,{placeholder:"Select environment"})}),e.jsx(k,{children:he.map(s=>e.jsx(j,{value:s.toLowerCase(),children:s},s))})]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{className:"text-lg font-medium",children:"Advanced Options"}),e.jsx(ye,{checked:q,onCheckedChange:ie,disabled:i.isPending,className:"data-[state=checked]:bg-emerald-600"})]}),q&&e.jsxs(b.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"mt-4 space-y-4 overflow-hidden",children:[e.jsx(ve,{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bodyFat",children:"Body Fat %"}),e.jsx(m,{id:"bodyFat",name:"bodyFat",type:"number",value:a.bodyFat,onChange:d,placeholder:"Optional",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"muscleMass",children:"Muscle Mass (kg)"}),e.jsx(m,{id:"muscleMass",name:"muscleMass",type:"number",value:a.muscleMass,onChange:d,placeholder:"Optional",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"waistCircumference",children:"Waist (cm)"}),e.jsx(m,{id:"waistCircumference",name:"waistCircumference",type:"number",value:a.waistCircumference,onChange:d,placeholder:"Optional",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"hipCircumference",children:"Hip (cm)"}),e.jsx(m,{id:"hipCircumference",name:"hipCircumference",type:"number",value:a.hipCircumference,onChange:d,placeholder:"Optional",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"restingHeartRate",children:"Heart Rate (bpm)"}),e.jsx(m,{id:"restingHeartRate",name:"restingHeartRate",type:"number",value:a.restingHeartRate,onChange:d,placeholder:"Optional",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bloodPressure",children:"Blood Pressure"}),e.jsx(m,{id:"bloodPressure",name:"bloodPressure",value:a.bloodPressure,onChange:d,placeholder:"e.g., 120/80",disabled:i.isPending,className:"bg-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Injuries"}),e.jsx(m,{name:"injuries",value:a.injuries.join(", "),onChange:s=>C({...a,injuries:s.target.value.split(",").map(t=>t.trim())}),placeholder:"e.g., Lower back pain",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Medical Conditions"}),e.jsx(m,{name:"medicalConditions",value:a.medicalConditions.join(", "),onChange:s=>C({...a,medicalConditions:s.target.value.split(",").map(t=>t.trim())}),placeholder:"e.g., Hypertension",disabled:i.isPending,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Fitness Level"}),e.jsx(ee,{name:"currentFitnessLevel",value:a.currentFitnessLevel,onChange:d,placeholder:"Current fitness capabilities",disabled:i.isPending,className:"bg-white min-h-[100px]"})]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Equipment Available"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"homeGym",label:"Home Gym"},{id:"resistanceBands",label:"Resistance Bands"},{id:"dumbbells",label:"Dumbbells"},{id:"barbell",label:"Barbell"},{id:"kettlebells",label:"Kettlebells"},{id:"pullUpBar",label:"Pull-up Bar"},{id:"cardioMachine",label:"Cardio Machine"},{id:"weightMachine",label:"Weight Machine"},{id:"cableMachine",label:"Cable Machine"},{id:"yogaMat",label:"Yoga Mat"},{id:"stabilityBall",label:"Stability Ball"},{id:"foamRoller",label:"Foam Roller"},{id:"trx",label:"TRX"},{id:"medicineBall",label:"Medicine Ball"}].map(({id:s,label:t})=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:s,checked:a[s],onCheckedChange:n=>d({name:s,value:n}),disabled:i.isPending}),e.jsx("label",{htmlFor:s,className:"text-sm",children:t})]},s))})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Additional Notes"}),e.jsx(ee,{name:"additionalNotes",value:a.additionalNotes,onChange:d,placeholder:"Specific goals or preferences...",className:"min-h-[100px] bg-white",disabled:i.isPending})]})})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(y,{size:"lg",onClick:()=>i.mutate(),disabled:i.isPending||!a.age||!a.sex||!a.primaryGoal,className:"px-8 py-6 text-lg bg-gradient-to-r from-emerald-600 to-teal-600",children:i.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r.spinner,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Generating..."})]}):"Generate Workout"})})]})]}),x&&e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-6",children:e.jsxs(Y,{className:"border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx($,{className:"bg-white p-5 border-b border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-xl font-semibold text-gray-900",children:x.title}),e.jsxs(I,{className:"text-gray-500 text-sm mt-1 flex items-center",children:[e.jsx(r.calendar,{className:"h-3.5 w-3.5 mr-1.5"}),"Generated ",O(x.created_at).format("MMM D, YYYY")]})]}),e.jsx(y,{variant:"ghost",size:"sm",onClick:()=>L(null),className:"text-gray-500 hover:text-gray-700",children:e.jsx(r.x,{className:"h-4 w-4"})})]})}),e.jsxs(D,{className:"p-5 bg-gray-50/50",children:[x.weeklySchedule&&Object.values(x.weeklySchedule).some(s=>s)&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[e.jsx(r.calendarDays,{className:"h-4 w-4 mr-2 text-emerald-500"}),"WEEKLY SCHEDULE"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:["day1","day2","day3","day4","day5","day6","day7"].map((s,t)=>{var c;const n=(c=x.weeklySchedule)==null?void 0:c[s];return n?e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-100 shadow-xs",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][t]}),e.jsx("p",{className:"text-sm text-gray-800 mt-1",children:n})]},s):null})})]}),e.jsx("div",{className:"space-y-5",children:x.exercises.map((s,t)=>e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-xs",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-emerald-100/50 p-2 rounded-full",children:e.jsx(r.dumbbell,{})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.exercise_name}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(r.repeat,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),s.sets,"×",s.reps]}),s.weight>0&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(r.weight,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),s.weight," kg"]}),s.rest&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(r.clock,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),"Rest: ",s.rest]}),s.rpe&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(r.gauge,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),"RPE: ",s.rpe]}),s.tempo&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(r.timer,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),"Tempo: ",s.tempo]})]}),(s.notes||s.superset)&&e.jsxs("div",{className:"mt-3 space-y-2",children:[s.superset&&e.jsxs("div",{className:"flex items-start text-sm text-emerald-700 bg-emerald-50/50 px-3 py-2 rounded",children:[e.jsx(r.link,{className:"h-3.5 w-3.5 mr-1.5 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:["Superset with ",s.superset]})]}),s.notes&&e.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 px-3 py-2 rounded border-l-2 border-emerald-300",children:s.notes})]})]})]})},t))}),x.notes&&e.jsxs("div",{className:"mt-6 bg-white p-4 rounded-lg border border-gray-100 shadow-xs",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx(r.clipboard,{className:"h-4 w-4 mr-2 text-emerald-500"}),"TRAINER NOTES"]}),e.jsx("p",{className:"text-gray-700",children:x.notes})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(y,{variant:"outline",onClick:()=>L(null),disabled:M.isPending,className:"border-gray-300 hover:bg-gray-50",children:"Close"}),e.jsxs(y,{onClick:()=>M.mutate(x),disabled:M.isPending||!x,className:"bg-emerald-600 hover:bg-emerald-700",children:[M.isPending?e.jsx(r.spinner,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(r.save,{className:"h-4 w-4 mr-2"}),"Save Plan"]})]})]})]})})]})}),e.jsx(ae,{value:"saved",children:e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:G&&G.length>0?G.map(s=>e.jsxs(Y,{className:"border-0 shadow-lg overflow-hidden",children:[e.jsxs($,{className:"bg-gradient-to-br from-indigo-700 to-violet-600 text-white relative overflow-hidden p-6 rounded-t-3xl",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-1/3 w-1.5 h-1.5 rounded-full bg-white/20 animate-float"}),e.jsx("div",{className:"absolute top-1/2 right-1/4 w-2 h-2 rounded-full bg-white/15 animate-float-delay"})]}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(R,{className:"text-2xl font-bold tracking-tight",children:s.title}),e.jsxs(I,{className:"text-indigo-100/90 flex items-center",children:[e.jsx(r.calendar,{className:"h-4 w-4 mr-2"}),"Created ",O(s.created_at).format("MMM D, YYYY")]})]}),e.jsx("button",{onClick:()=>ne.mutate(s.id),className:"p-1.5 rounded-full hover:bg-white/10 transition-colors",children:e.jsx(r.trash,{className:"h-4 w-4 text-white/80 hover:text-white"})})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs(D,{className:"p-6 bg-white",children:[s.weeklySchedule&&Object.values(s.weeklySchedule).some(t=>t)&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-emerald-100 p-1.5 rounded-lg",children:e.jsx(r.calendarDays,{className:"h-5 w-5 text-emerald-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Weekly Schedule"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:["day1","day2","day3","day4","day5","day6","day7"].map((t,n)=>{var h;const c=(h=s.weeklySchedule)==null?void 0:h[t];return c?e.jsxs("div",{className:"border border-gray-200 p-3 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-emerald-600",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][n]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c})]},t):null})})]}),e.jsx("div",{className:"space-y-6",children:s.exercises.map((t,n)=>e.jsx("div",{className:"border-b border-gray-100 pb-6 last:border-0",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-emerald-100 p-2 rounded-lg",children:e.jsx(r.dumbbell,{})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:t.exercise_name}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(r.repeat,{className:"h-4 w-4 mr-1.5 text-gray-400"}),t.sets," × ",t.reps]}),t.weight>0&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(r.weight,{className:"h-4 w-4 mr-1.5 text-gray-400"}),t.weight," kg"]}),t.rest&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(r.clock,{className:"h-4 w-4 mr-1.5 text-gray-400"}),t.rest]})]}),t.notes&&e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg text-sm text-gray-600",children:t.notes})]})]})},n))}),s.notes&&e.jsxs("div",{className:"mt-8 bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Trainer Notes"}),e.jsx("p",{className:"text-gray-700",children:s.notes})]})]})]},s.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-24 w-24 rounded-full bg-emerald-50 flex items-center justify-center mb-4",children:e.jsx(r.fileText,{className:"h-12 w-12 text-emerald-600"})}),e.jsx("h3",{className:"mt-2 text-xl font-semibold text-gray-900",children:"No saved plans"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Generate a workout plan to save it here"}),e.jsx(y,{onClick:()=>E("generate"),className:"mt-6 bg-emerald-600",children:"Create Plan"})]})})})]})}),e.jsx(ge,{children:B&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs(b.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center",children:[e.jsxs("div",{className:"relative h-32 w-32 mx-auto mb-6",children:[e.jsx(b.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:e.jsx(r.loader,{className:"h-full w-full text-emerald-200"})}),e.jsx("div",{className:"absolute inset-4 flex items-center justify-center",children:e.jsx(r.dumbbell,{})})]}),e.jsx("p",{children:W[le]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[e.jsx("span",{children:"Time remaining:"}),e.jsxs("span",{className:"font-medium text-emerald-600",children:[Math.floor(p/60),":",String(p%60).padStart(2,"0")]})]}),e.jsx(Ne,{value:100-p/180*100,className:"h-2 bg-gray-200"})]})]})})})]})}export{We as default};
//# sourceMappingURL=WorkoutGenerator-D4ciV0Ah.js.map
