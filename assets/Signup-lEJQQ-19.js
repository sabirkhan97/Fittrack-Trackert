import{u as y,a as N,j as e,T as w,m as o,C as v,b as C,I as a,c as k,d as F,F as T,e as c,f as m,g as d,h as p,i as g,k as x,B as i,l as I,o as S,n as A,t as l,s as u}from"./index-CA5f885i.js";import{c as E,u as P}from"./vendor-Bkymfbaw.js";import{P as H}from"./PasswordInput-DrMSzk3_.js";const L="http://localhost:5000",U=S({email:u().email({message:"Valid email required"}),username:u().min(3,{message:"3 characters minimum"}).max(20,{message:"20 characters maximum"}).regex(/^[a-zA-Z0-9_]+$/,{message:"Letters, numbers, underscores only"}),password:u().min(8,{message:"8 characters minimum"}).regex(/[A-Z]/,{message:"Include uppercase letter"}).regex(/[0-9]/,{message:"Include number"})});function G(){const[h,j]=E.useState(!1),n=P(),r=y({resolver:N(U),defaultValues:{email:"",username:"",password:""}});async function f(t){j(!0);try{const s=await A.post(`${L}/api/auth/signup`,t);s.data.token&&(localStorage.setItem("token",s.data.token),l.success("Welcome to the FitTrack Family!",{description:"Your fitness journey starts now!",duration:3e3,position:"top-center",action:{label:"Go to Dashboard",onClick:()=>n("/dashboard")},icon:e.jsx(a.dumbbell,{})}),await new Promise(b=>setTimeout(b,1500)),n("/dashboard"))}catch(s){console.error("Signup error:",s),s.response?s.response.status===409?s.response.data.error.includes("Email")?(r.setError("email",{message:"Email already in use",type:"manual"}),l.error("Email Taken",{description:"This email is already registered",position:"top-center",action:{label:"Login Instead",onClick:()=>n("/login")}})):s.response.data.error.includes("Username")&&(r.setError("username",{message:"Username taken",type:"manual"}),l.error("Username Unavailable",{description:"Please choose another username",position:"top-center"})):l.error("Registration Failed",{description:s.response.data.message||"Could not complete signup",position:"top-center"}):l.error("Connection Issue",{description:"Could not reach our servers",position:"top-center"}),r.resetField("password")}finally{j(!1)}}return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:"https://images.pexels.com/photos/1552242/pexels-photo-1552242.jpeg",alt:"Fitness tracker and smartphone",className:"w-full h-full object-cover object-center"}),e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"})]}),e.jsx(w,{position:"top-center",richColors:!0,closeButton:!0,toastOptions:{classNames:{toast:"border-0 shadow-lg rounded-xl",title:"font-bold",description:"text-sm opacity-90",actionButton:"!bg-primary !text-primary-foreground"}}}),e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md z-10",children:e.jsxs(v,{className:"w-full border-0 bg-background/90 backdrop-blur-md shadow-xl",children:[e.jsxs(C,{className:"space-y-1 text-center",children:[e.jsxs(o.div,{className:"flex justify-center items-center",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200},children:[e.jsx(a.dumbbell,{}),e.jsx("span",{className:"ml-2 text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"FitTrack Pro"})]}),e.jsx(k,{className:"text-2xl font-bold mt-4",children:"Start Your Journey"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your account and transform your fitness"})]}),e.jsxs(F,{children:[e.jsx(T,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(f),className:"space-y-4",children:[e.jsx(c,{control:r.control,name:"username",render:({field:t})=>e.jsxs(m,{children:[e.jsxs(d,{className:"flex items-center",children:[e.jsx(a.user,{className:"w-4 h-4 mr-2"}),"Username"]}),e.jsx(p,{children:e.jsx(o.div,{whileHover:{scale:1.01},whileTap:{scale:.98},children:e.jsx(g,{placeholder:"fitness_warrior",autoComplete:"username",...t,className:"py-5"})})}),e.jsx(x,{className:"text-xs"})]})}),e.jsx(c,{control:r.control,name:"email",render:({field:t})=>e.jsxs(m,{children:[e.jsxs(d,{className:"flex items-center",children:[e.jsx(a.mail,{}),"Email"]}),e.jsx(p,{children:e.jsx(o.div,{whileHover:{scale:1.01},whileTap:{scale:.98},children:e.jsx(g,{placeholder:"you@example.com",autoComplete:"email",...t,className:"py-5"})})}),e.jsx(x,{className:"text-xs"})]})}),e.jsx(c,{control:r.control,name:"password",render:({field:t})=>e.jsxs(m,{children:[e.jsxs(d,{className:"flex items-center",children:[e.jsx(a.lock,{className:"w-4 h-4 mr-2"}),"Password"]}),e.jsx(p,{children:e.jsx(o.div,{whileHover:{scale:1.01},whileTap:{scale:.98},children:e.jsx(H,{placeholder:"••••••••",autoComplete:"new-password",...t,className:"py-5"})})}),e.jsx(x,{className:"text-xs"})]})}),e.jsx(o.div,{whileHover:{scale:1.01},whileTap:{scale:.98},children:e.jsx(i,{type:"submit",className:"w-full py-6 text-lg font-bold bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(a.spinner,{className:"mr-2 h-5 w-5 animate-spin"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(a.plus,{className:"w-5 h-5 mr-2"}),"START TRAINING"]})})})]})}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background/90 px-2 text-muted-foreground",children:"Or sign up with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(i,{variant:"outline",className:"py-5",children:[e.jsx(a.google,{className:"w-5 h-5 mr-2"}),"Google"]}),e.jsxs(i,{variant:"outline",className:"py-5",children:[e.jsx(a.apple,{className:"w-5 h-5 mr-2"}),"Apple"]})]})]}),e.jsx(I,{className:"flex flex-col gap-3",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(i,{variant:"link",className:"p-0 h-auto text-primary font-bold",onClick:()=>n("/login"),children:"Sign in now"})]})})]})})]})}export{G as default};
//# sourceMappingURL=Signup-lEJQQ-19.js.map
