{"version":3,"file":"Signup-lEJQQ-19.js","sources":["../../src/apps/Pages/SignUp/Signup.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport { toast, Toaster } from 'sonner';\nimport { motion } from 'framer-motion';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle, CardFooter } from '@/components/ui/card';\nimport { Icons } from '@/components/icons';\nimport { PasswordInput } from '@/components/PasswordInput';\n\nconst API = import.meta.env.VITE_API_URL;\n\nconst formSchema = z.object({\n  email: z.string().email({ message: 'Valid email required' }),\n  username: z\n    .string()\n    .min(3, { message: '3 characters minimum' })\n    .max(20, { message: '20 characters maximum' })\n    .regex(/^[a-zA-Z0-9_]+$/, {\n      message: 'Letters, numbers, underscores only',\n    }),\n  password: z\n    .string()\n    .min(8, { message: '8 characters minimum' })\n    .regex(/[A-Z]/, { message: 'Include uppercase letter' })\n    .regex(/[0-9]/, { message: 'Include number' }),\n});\n\nexport default function Signup() {\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const form = useForm<z.infer<typeof formSchema>>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      email: '',\n      username: '',\n      password: '',\n    },\n  });\n\n  async function onSubmit(values: z.infer<typeof formSchema>) {\n    setIsLoading(true);\n    try {\n      const response = await axios.post(`${API}/api/auth/signup`, values);\n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        toast.success('Welcome to the FitTrack Family!', {\n          description: 'Your fitness journey starts now!',\n          duration: 3000,\n          position: 'top-center',\n          action: {\n            label: 'Go to Dashboard',\n            onClick: () => navigate('/dashboard')\n          },\n          icon: <Icons.dumbbell  />\n        });\n        await new Promise(resolve => setTimeout(resolve, 1500));\n        navigate('/dashboard');\n      }\n    } catch (error: any) {\n      console.error('Signup error:', error);\n      if (error.response) {\n        if (error.response.status === 409) {\n          if (error.response.data.error.includes('Email')) {\n            form.setError('email', { \n              message: 'Email already in use',\n              type: 'manual'\n            });\n            toast.error('Email Taken', {\n              description: 'This email is already registered',\n              position: 'top-center',\n              action: {\n                label: 'Login Instead',\n                onClick: () => navigate('/login')\n              }\n            });\n          } else if (error.response.data.error.includes('Username')) {\n            form.setError('username', { \n              message: 'Username taken',\n              type: 'manual'\n            });\n            toast.error('Username Unavailable', {\n              description: 'Please choose another username',\n              position: 'top-center'\n            });\n          }\n        } else {\n          toast.error('Registration Failed', {\n            description: error.response.data.message || 'Could not complete signup',\n            position: 'top-center'\n          });\n        }\n      } else {\n        toast.error('Connection Issue', {\n          description: 'Could not reach our servers',\n          position: 'top-center'\n        });\n      }\n      form.resetField('password');\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4 relative overflow-hidden\">\n      {/* Modern fitness background */}\n      <div className=\"absolute inset-0 z-0\">\n        <img \n          src=\"https://images.pexels.com/photos/1552242/pexels-photo-1552242.jpeg\" \n          alt=\"Fitness tracker and smartphone\"\n          className=\"w-full h-full object-cover object-center\"\n        />\n        <div className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\" />\n      </div>\n      \n      <Toaster \n        position=\"top-center\" \n        richColors\n        closeButton\n        toastOptions={{\n          classNames: {\n            toast: 'border-0 shadow-lg rounded-xl',\n            title: 'font-bold',\n            description: 'text-sm opacity-90',\n            actionButton: '!bg-primary !text-primary-foreground'\n          }\n        }}\n      />\n      \n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.6 }}\n        className=\"w-full max-w-md z-10\"\n      >\n        <Card className=\"w-full border-0 bg-background/90 backdrop-blur-md shadow-xl\">\n          <CardHeader className=\"space-y-1 text-center\">\n            <motion.div \n              className=\"flex justify-center items-center\"\n              initial={{ scale: 0.8 }}\n              animate={{ scale: 1 }}\n              transition={{ type: 'spring', stiffness: 200 }}\n            >\n              <Icons.dumbbell  />\n              <span className=\"ml-2 text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent\">\n                FitTrack Pro\n              </span>\n            </motion.div>\n            <CardTitle className=\"text-2xl font-bold mt-4\">Start Your Journey</CardTitle>\n            <p className=\"text-sm text-muted-foreground\">\n              Create your account and transform your fitness\n            </p>\n          </CardHeader>\n          \n          <CardContent>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"username\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"flex items-center\">\n                        <Icons.user className=\"w-4 h-4 mr-2\" />\n                        Username\n                      </FormLabel>\n                      <FormControl>\n                        <motion.div whileHover={{ scale: 1.01 }} whileTap={{ scale: 0.98 }}>\n                          <Input \n                            placeholder=\"fitness_warrior\" \n                            autoComplete=\"username\" \n                            {...field} \n                            className=\"py-5\"\n                          />\n                        </motion.div>\n                      </FormControl>\n                      <FormMessage className=\"text-xs\" />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"email\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"flex items-center\">\n                        <Icons.mail  />\n                        Email\n                      </FormLabel>\n                      <FormControl>\n                        <motion.div whileHover={{ scale: 1.01 }} whileTap={{ scale: 0.98 }}>\n                          <Input \n                            placeholder=\"you@example.com\" \n                            autoComplete=\"email\" \n                            {...field} \n                            className=\"py-5\"\n                          />\n                        </motion.div>\n                      </FormControl>\n                      <FormMessage className=\"text-xs\" />\n                    </FormItem>\n                  )}\n                />\n                \n                <FormField\n                  control={form.control}\n                  name=\"password\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"flex items-center\">\n                        <Icons.lock className=\"w-4 h-4 mr-2\" />\n                        Password\n                      </FormLabel>\n                      <FormControl>\n                        <motion.div whileHover={{ scale: 1.01 }} whileTap={{ scale: 0.98 }}>\n                          <PasswordInput \n                            placeholder=\"••••••••\" \n                            autoComplete=\"new-password\" \n                            {...field} \n                            className=\"py-5\"\n                          />\n                        </motion.div>\n                      </FormControl>\n                      <FormMessage className=\"text-xs\" />\n                    </FormItem>\n                  )}\n                />\n                \n                <motion.div\n                  whileHover={{ scale: 1.01 }}\n                  whileTap={{ scale: 0.98 }}\n                >\n                  <Button \n                    type=\"submit\" \n                    className=\"w-full py-6 text-lg font-bold bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg\"\n                    disabled={isLoading}\n                  >\n                    {isLoading ? (\n                      <>\n                        <Icons.spinner className=\"mr-2 h-5 w-5 animate-spin\" />\n                        Creating Account...\n                      </>\n                    ) : (\n                      <>\n                        <Icons.plus className=\"w-5 h-5 mr-2\" />\n                        START TRAINING\n                      </>\n                    )}\n                  </Button>\n                </motion.div>\n              </form>\n            </Form>\n            \n            <div className=\"relative my-6\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <span className=\"w-full border-t\" />\n              </div>\n              <div className=\"relative flex justify-center text-xs uppercase\">\n                <span className=\"bg-background/90 px-2 text-muted-foreground\">\n                  Or sign up with\n                </span>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <Button variant=\"outline\" className=\"py-5\">\n                <Icons.google className=\"w-5 h-5 mr-2\" />\n                Google\n              </Button>\n              <Button variant=\"outline\" className=\"py-5\">\n                <Icons.apple className=\"w-5 h-5 mr-2\" />\n                Apple\n              </Button>\n            </div>\n          </CardContent>\n          \n          <CardFooter className=\"flex flex-col gap-3\">\n            <div className=\"text-sm text-muted-foreground\">\n              Already have an account?{' '}\n              <Button \n                variant=\"link\" \n                className=\"p-0 h-auto text-primary font-bold\" \n                onClick={() => navigate('/login')}\n              >\n                Sign in now\n              </Button>\n            </div>\n          </CardFooter>\n        </Card>\n      </motion.div>\n    </div>\n  );\n}"],"names":["API","formSchema","z.object","z.string","Signup","isLoading","setIsLoading","useState","navigate","useNavigate","form","useForm","zodResolver","onSubmit","values","response","axios","toast","jsx","Icons","resolve","error","jsxs","Toaster","motion","Card","CardHeader","CardTitle","CardContent","Form","FormField","field","FormItem","FormLabel","FormControl","Input","FormMessage","PasswordInput","Button","Fragment","CardFooter"],"mappings":"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"}